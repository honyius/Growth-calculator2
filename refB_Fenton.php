<?php

class refB_Fenton
{   
    
    function __construct()
    {        
        $this->GA = array();
        $this->timeDecimal = array();
        $this->L = array();
        $this->M = array();
        $this->S = array();
        $this->P3 = array();
        $this->P10 = array();
        $this->P50 = array();
        $this->P90 = array();
        $this->P97 = array();
        $this->WG = array();
        $this->WG_cumulative = array();
        
        $this->L = [ 158=>
            0.674935081746314,
            0.699593491930451,
            0.724182997329300,
            0.748657661419335,
            0.772971547677032,
            0.797078719578865,
            0.820933240601309,
            0.844490044484421,
            0.867724081030653,
            0.890630316104853,
            0.913204585835451,
            0.935442726350877,
            0.957340573779561,
            0.978893964249933,
            1.000098500704000,
            1.020944422796010,
            1.041416606892470,
            1.061499696173440,
            1.081178333819000,
            1.100437163009220,
            1.119260826924170,
            1.137634031226050,
            1.155542918665650,
            1.172975069082420,
            1.189918124797900,
            1.206359728133630,
            1.222287521411170,
            1.237689146952050,
            1.252552230335790,
            1.266864012075170,
            1.280611347616240,
            1.293781075663000,
            1.306360034919460,
            1.318335064089630,
            1.329693001877530,
            1.340420691473180,
            1.350505079244920,
            1.359933214739420,
            1.368692151989350,
            1.376768945027410,
            1.384150647886270,
            1.390824314598610,
            1.396776997995080,
            1.401995723259800,
            1.406467487930330,
            1.410179288342200,
            1.413118120830940,
            1.415270981732110,
            1.416624867381220,
            1.417166774435910,
            1.416883706961660,
            1.415762676431830,
            1.413790694641860,
            1.410954773387180,
            1.407241924463250,
            1.402639159665490,
            1.397134489313440,
            1.390738889780710,
            1.383486303495010,
            1.375411671408130,
            1.366549934471860,
            1.356936033637980,
            1.346604909858300,
            1.335591504107730,
            1.323930757893040,
            1.311657613252870,
            1.298807012248990,
            1.285413896943160,
            1.271513209397140,
            1.257139891672690,
            1.242328885825380,
            1.227115133768260,
            1.211533577271890,
            1.195619158100600,
            1.179406818018740,
            1.162931498790660,
            1.146228142180700,
            1.129331689954880,
            1.112277083917380,
            1.095099265910590,
            1.077833177778540,
            1.060513761365270,
            1.043175958514820,
            1.025854711071230,
            1.008584960878090,
            0.991401649768764,
            0.974339719566386,
            0.957434112093643,
            0.940719769173226,
            0.924231632627821,
            0.908004644280119,
            0.892072917637620,
            0.876451514958555,
            0.861136447251876,
            0.846122897211352,
            0.831406047530751,
            0.816981080903842,
            0.802843180024394,
            0.788987527586143,
            0.775409306282116,
            0.762103698804629,
            0.749065887845966,
            0.736291056098413,
            0.723774386254255,
            0.711511061005776,
            0.699496263045265,
            0.687725175065121,
            0.676192979757849,
            0.664894859815960,
            0.653825997931963,
            0.642981576798370,
            0.632356779107690,
            0.621946787552447,
            0.611746784825441,
            0.601751953619751,
            0.591957476628470,
            0.582358536544690,
            0.572950316061500,
            0.563727997871995,
            0.554686764669211,
            0.545821799144965,
            0.537128283989852,
            0.528601401894412,
            0.520236335549188,
            0.512028267644719,
            0.503972380871547,
            0.496063923313728,
            0.488299647106137,
            0.480677808434472,
            0.473196728877945,
            0.465854730015767,
            0.458650133427149,
            0.451581260691304,
            0.444646433386693,
            0.437843973074563,
            0.431172201298941,
            0.424629439603105,
            0.418214009530336,
            0.411924232623912,
            0.405758430427111,
            0.399714924486008,
            0.393792036410935,
            0.387988087876487,
            0.382301400560052,
            0.376730296139019,
            0.371273096290774,
            0.365928122692708,
            0.360693697011779,
            0.355568140675126,
            0.350549774870058,
            0.345636920773460,
            0.340827899562216,
            0.336121032413211,
            0.331514640503328,
            0.327007045048366,
            0.322596568159163,
            0.318281532841596,
            0.314060262140455,
            0.309931079100531,
            0.305892306766617,
            0.301942268183503,
            0.298079269902420,
            0.294301239122716,
            0.290605723691856,
            0.286990254963744,
            0.283452364292284,
            0.279989583031382,
            0.276599442534941,
            0.273279474698879,
            0.270027223885394,
            0.266840246922969,
            0.263716101182100,
            0.260652344033280,
            0.257646532847005,
            0.254696224993770,
            0.251798975821250,
            0.248952294152324,
            0.246153642285066,
            0.243400480494735,
            0.240690269056587,
            0.238020468245882,
            0.235388538337877,
            0.232791947157088,
            0.230228336160951,
            0.227695520439822,
            0.225191322633319,
            0.222713565381053,
            0.220260071322642,
            0.217828663097699,
            0.215417096684937,
            0.213021594862323,
            0.210636847207074,
            0.208257476635514
        ];        
        $this->M = [ 158=>
            538.333777930006,
            549.017761839655,
            559.751029898218,
            570.566438204970,
            581.496842859189,
            592.575099960149,
            603.834065607127,
            615.305761496609,
            627.003018060950,
            638.919474468368,
            651.047935484292,
            663.381205874154,
            675.912090403384,
            688.633393837412,
            701.538144519221,
            714.624513075521,
            727.895812416750,
            741.355579030897,
            755.007349405952,
            768.854660029906,
            782.901047390748,
            797.150159668981,
            811.608213972904,
            826.283996338612,
            841.186404494713,
            856.324336169815,
            871.706689092524,
            887.342360991450,
            903.240265647345,
            919.409686040325,
            935.860274349865,
            952.601698807585,
            969.643627645107,
            986.995729094052,
            1004.667671386040,
            1022.669118451540,
            1041.009635294330,
            1059.698687991540,
            1078.745738319120,
            1098.160248053050,
            1117.951678969280,
            1138.129492843760,
            1158.703152604960,
            1179.682147688650,
            1201.075994037930,
            1222.894208748380,
            1245.146308915590,
            1267.841811635150,
            1290.990234002650,
            1314.601092804870,
            1338.683897725960,
            1363.248151347490,
            1388.303355942190,
            1413.859013782790,
            1439.924627142040,
            1466.509698292680,
            1493.623107218140,
            1521.259421248100,
            1549.398895058420,
            1578.021161035690,
            1607.105851566500,
            1636.632599037430,
            1666.581035835060,
            1696.930794323800,
            1727.661506358120,
            1758.752803282550,
            1790.184316419430,
            1821.935677091120,
            1853.986516619970,
            1886.316466328320,
            1918.905157544480,
            1951.732221733380,
            1984.777290496570,
            2018.019995441570,
            2051.439968175880,
            2085.016840307010,
            2118.730243442470,
            2152.559809188170,
            2186.485169113430,
            2220.485954750950,
            2254.541797631850,
            2288.632329287250,
            2322.737181248260,
            2356.835985046010,
            2390.908372212040,
            2424.933974287650,
            2458.892422823960,
            2492.763349372480,
            2526.526385484730,
            2560.161162712240,
            2593.647312606520,
            2626.964466718990,
            2660.092256598550,
            2693.010313791610,
            2725.698269844470,
            2758.135756303420,
            2790.302404714760,
            2822.177846624780,
            2853.742589575940,
            2884.997289022460,
            2915.962748330320,
            2946.660646861670,
            2977.112663978630,
            3007.340479043360,
            3037.365771418000,
            3067.210220464760,
            3096.895505547400,
            3126.443306031220,
            3155.875301281600,
            3185.213170663920,
            3214.478593543540,
            3243.693249285850,
            3272.878817255940,
            3302.056976812460,
            3331.249407307650,
            3360.477788093460,
            3389.763798521830,
            3419.129117944700,
            3448.595425714020,
            3478.184401182790,
            3507.917723728200,
            3537.817072751630,
            3567.904127655490,
            3598.200567842230,
            3628.728072714250,
            3659.508321674000,
            3690.562289972490,
            3721.894757378340,
            3753.494308177740,
            3785.348822505500,
            3817.446180496430,
            3849.774262285310,
            3882.320948006960,
            3915.074117810810,
            3948.021652183430,
            3981.151431948450,
            4014.451337944160,
            4047.909251008860,
            4081.513051980850,
            4115.250621698430,
            4149.109840945180,
            4183.078589246660,
            4217.144744870370,
            4251.296186029120,
            4285.520790935710,
            4319.806437802950,
            4354.141004843640,
            4388.512370474720,
            4422.908417808230,
            4457.317034651310,
            4491.726109015220,
            4526.123528911240,
            4560.497182350630,
            4594.834957344680,
            4629.124741142800,
            4663.354403472080,
            4697.511796537270,
            4731.584771781250,
            4765.561180646930,
            4799.428874577200,
            4833.175705014960,
            4866.789758999560,
            4900.264542288530,
            4933.598979357630,
            4966.792230279050,
            4999.843455124980,
            5032.751813967610,
            5065.516466879150,
            5098.136563320700,
            5130.611008698590,
            5162.938464364350,
            5195.117581058450,
            5227.147009521330,
            5259.025400493460,
            5290.751404715290,
            5322.323712528370,
            5353.741925099100,
            5385.006554418780,
            5416.118152079790,
            5447.077269674490,
            5477.884458795250,
            5508.540271034460,
            5539.045110191230,
            5569.395980819980,
            5599.586488230400,
            5629.610089938930,
            5659.460243462030,
            5689.130406316130,
            5718.614036017680,
            5747.905895116290,
            5777.030761924160,
            5806.043430516100,
            5835.000000000000
        ];
        $this->S = [ 158=>
            0.13814012941787,
            0.14064417701396,
            0.14314096707859,
            0.14562566125747,
            0.14809342119629,
            0.15053940854075,
            0.15295878493654,
            0.15534680369158,
            0.15770082634476,
            0.16002032266593,
            0.16230485408716,
            0.16455398204052,
            0.16676726795810,
            0.16894427327195,
            0.17108453485334,
            0.17318702467473,
            0.17525014980981,
            0.17727229277144,
            0.17925183607250,
            0.18118716222584,
            0.18307665374433,
            0.18491869972190,
            0.18671184061662,
            0.18845476825078,
            0.19014618102767,
            0.19178477735062,
            0.19336925562294,
            0.19489831424795,
            0.19637064986558,
            0.19778491855784,
            0.19913973584885,
            0.20043371549934,
            0.20166547127002,
            0.20283361692162,
            0.20393676621487,
            0.20497353338300,
            0.20594254352667,
            0.20684243261404,
            0.20767183708573,
            0.20842939338240,
            0.20911373794468,
            0.20972350721320,
            0.21025736759894,
            0.21071467483065,
            0.21109547395482,
            0.21139983998830,
            0.21162784794792,
            0.21177957285053,
            0.21185508971296,
            0.21185447358598,
            0.21177780030061,
            0.21162514646810,
            0.21139658873364,
            0.21109220374241,
            0.21071206813959,
            0.21025625857038,
            0.20972490803904,
            0.20911944580854,
            0.20844259740061,
            0.20769714469605,
            0.20688586957564,
            0.20601155392018,
            0.20507697961046,
            0.20408492852971,
            0.20303818261718,
            0.20193952386814,
            0.20079173428029,
            0.19959759585133,
            0.19835989057896,
            0.19708140046089,
            0.19576490749417,
            0.19441319366084,
            0.19302904092793,
            0.19161523126181,
            0.19017454662887,
            0.18870976899548,
            0.18722368032802,
            0.18571906259304,
            0.18419869776112,
            0.18266536780684,
            0.18112185470499,
            0.17957094043032,
            0.17801540695760,
            0.17645803626161,
            0.17490161031707,
            0.17334891109762,
            0.17180272057584,
            0.17026582072427,
            0.16874099351543,
            0.16723102092185,
            0.16573868491606,
            0.16426671873388,
            0.16281673466682,
            0.16138922406206,
            0.15998462953007,
            0.15860339368134,
            0.15724595912634,
            0.15591276847554,
            0.15460426433942,
            0.15332088932845,
            0.15206308605309,
            0.15083129712378,
            0.14962596515101,
            0.14844753274521,
            0.14729644251685,
            0.14617313707638,
            0.14507805903402,
            0.14401165099972,
            0.14297435558346,
            0.14196661539521,
            0.14098887304492,
            0.14004157114257,
            0.13912515229815,
            0.13824005912263,
            0.13738673422793,
            0.13656562022600,
            0.13577715972880,
            0.13502179534829,
            0.13429996969643,
            0.13361212538502,
            0.13295870502228,
            0.13234015121284,
            0.13175690656118,
            0.13120941367177,
            0.13069811514910,
            0.13022345359763,
            0.12978582878390,
            0.12938465520166,
            0.12901836207189,
            0.12868533577760,
            0.12838396270183,
            0.12811262922761,
            0.12786972173795,
            0.12765362661372,
            0.12746273018581,
            0.12729541873519,
            0.12715007854063,
            0.12702509588091,
            0.12691885703482,
            0.12682974828113,
            0.12675615590674,
            0.12669646638495,
            0.12664906637548,
            0.12661234254617,
            0.12658468156484,
            0.12656447009933,
            0.12655009481745,
            0.12653994235680,
            0.12653239865923,
            0.12652584897088,
            0.12651867850761,
            0.12650927248532,
            0.12649601611988,
            0.12647729462718,
            0.12645149333598,
            0.12641700017155,
            0.12637220565562,
            0.12631550042281,
            0.12624527510775,
            0.12615992034507,
            0.12605782676939,
            0.12593744743491,
            0.12579867104581,
            0.12564282195629,
            0.12547128694011,
            0.12528545277103,
            0.12508670622281,
            0.12487643406921,
            0.12465602465635,
            0.12442690249467,
            0.12419052825895,
            0.12394836419632,
            0.12370187255392,
            0.12345251557887,
            0.12320175551833,
            0.12295104875127,
            0.12270171668961,
            0.12245494577814,
            0.12221191659352,
            0.12197380971243,
            0.12174180571153,
            0.12151708516747,
            0.12130085055711,
            0.12109480806136,
            0.12090116756521,
            0.12072216085382,
            0.12056001971237,
            0.12041697592601,
            0.12029526127993,
            0.12019691417794,
            0.12011952525290,
            0.12005623736673,
            0.12000000000000
        ];
        
        //$this->GA[] = 158;
        $this->timeDecimal[158] = 22+(4/7);        
        for ($i=159;$i < 351;$i++) {
            //$this->GA[] = $i;
            $this->timeDecimal[$i] = $this->timeDecimal[$i-1] + (1/7);
        }
        for ($i=158; $i < 351; $i++) {            
            $this->P3[$i] = pow((1 + $this->L[$i] * $this->S[$i] * -1.88079360815125), (1/$this->L[$i])) * $this->M[$i];            
            $this->P10[$i] = pow((1 + $this->L[$i] * $this->S[$i] * -1.2815515655446), (1/$this->L[$i])) * $this->M[$i];
            $this->P50[$i] = pow((1 + $this->L[$i] * $this->S[$i] * 0), (1/$this->L[$i])) * $this->M[$i];                        
            $this->P90[$i] = pow((1 + $this->L[$i] * $this->S[$i] * 1.2815515655446), (1/$this->L[$i])) * $this->M[$i];            
            $this->P97[$i] = pow((1 + $this->L[$i] * $this->S[$i] * 1.88079360815125), (1/$this->L[$i])) * $this->M[$i];
            if ($i > 158) {
                $this->WG[$i-1] = $this->M[$i] / $this->M[$i-1];                
            }
            if ($i == 159) {
                $this->WG_cumulative[$i-1] = $this->WG[$i-1];
            }
            if ($i > 159) {
                $this->WG_cumulative[$i-1] = $this->WG_cumulative[$i-2] * $this->WG[$i-1];
            }
        }
    }
}

//$refB = new refB();
//print_r($refB->WG_cumulative);
//echo normsinv(0.1, 9);

?>